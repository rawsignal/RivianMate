@using RivianMate.Core.Entities
@using RivianMate.Core.Enums

<StatusSection Title="Tire Pressure" Icon="circle">
    <div class="tire-grid">
        <div class="tire-row">
            <div class="tire-item @GetTireClass(VehicleState?.TirePressureStatusFrontLeft)">
                <span class="tire-label">FL</span>
                <span class="tire-value">@FormatStatus(VehicleState?.TirePressureStatusFrontLeft)</span>
            </div>
            <div class="tire-item @GetTireClass(VehicleState?.TirePressureStatusFrontRight)">
                <span class="tire-label">FR</span>
                <span class="tire-value">@FormatStatus(VehicleState?.TirePressureStatusFrontRight)</span>
            </div>
        </div>
        <div class="tire-row">
            <div class="tire-item @GetTireClass(VehicleState?.TirePressureStatusRearLeft)">
                <span class="tire-label">RL</span>
                <span class="tire-value">@FormatStatus(VehicleState?.TirePressureStatusRearLeft)</span>
            </div>
            <div class="tire-item @GetTireClass(VehicleState?.TirePressureStatusRearRight)">
                <span class="tire-label">RR</span>
                <span class="tire-value">@FormatStatus(VehicleState?.TirePressureStatusRearRight)</span>
            </div>
        </div>
    </div>
</StatusSection>

@code {
    [Parameter] public VehicleState? VehicleState { get; set; }

    private static string FormatStatus(TirePressureStatus? status) => status switch
    {
        TirePressureStatus.Ok => "OK",
        TirePressureStatus.Low => "Low",
        TirePressureStatus.High => "High",
        TirePressureStatus.Critical => "Critical",
        _ => "â€”"
    };

    private static string GetTireClass(TirePressureStatus? status) => status switch
    {
        TirePressureStatus.Ok => "tire-ok",
        TirePressureStatus.Low => "tire-low",
        TirePressureStatus.High => "tire-high",
        TirePressureStatus.Critical => "tire-critical",
        _ => ""
    };
}
